{"ast":null,"code":"import _regeneratorRuntime from\"/Users/AmundFremming/Documents/Personlig/Koding/web-frontend/drikkelek/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/AmundFremming/Documents/Personlig/Koding/web-frontend/drikkelek/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/AmundFremming/Documents/Personlig/Koding/web-frontend/drikkelek/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import Navbar from\"../Base/Navbar\";import Header from\"../Base/Header\";import HostGame from\"../Components/HostGame\";import CreateRoom from\"../Components/CreateRoom\";import{db}from\"../config/firebase\";import{collection,addDoc}from\"firebase/firestore\";/*\n    TODO - later\n    fikse regex lengde på input\n*/import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Host=function Host(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),roomInit=_useState2[0],setRoomInit=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),roomID=_useState4[0],setRoomID=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),name=_useState6[0],setName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),question=_useState8[0],setQuestion=_useState8[1];var namesCollectionRef=collection(db,\"names\");var questionsCollectionRef=collection(db,\"questions\");var onSubmitName=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;setRoomInit(true);_context.next=4;return addDoc(namesCollectionRef,{name:name,gameid:roomID});case 4:_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);console.err(_context.t0);case 9:case\"end\":return _context.stop();}},_callee,null,[[0,6]]);}));return function onSubmitName(){return _ref.apply(this,arguments);};}();var onSubmitQuestion=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return addDoc(questionsCollectionRef,{question:question,gameid:roomID});case 3:console.log(\"Adding :\"+question);_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);console.err(_context2.t0);case 9:case\"end\":return _context2.stop();}},_callee2,null,[[0,6]]);}));return function onSubmitQuestion(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-64 justify-center items-center flex\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-64 w-80 bg-violet-500 rounded shadow-xl justify-center items-center flex\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex-col\",children:roomInit?/*#__PURE__*/_jsx(HostGame,{roomID:roomID,setQuestion:setQuestion,onSubmitQuestion:onSubmitQuestion}):/*#__PURE__*/_jsx(CreateRoom,{onSubmitName:onSubmitName,setName:setName,setRoomID:setRoomID})})})})]});};export default Host;","map":{"version":3,"names":["React","useState","Navbar","Header","HostGame","CreateRoom","db","collection","addDoc","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Host","props","_useState","_useState2","_slicedToArray","roomInit","setRoomInit","_useState3","_useState4","roomID","setRoomID","_useState5","_useState6","name","setName","_useState7","_useState8","question","setQuestion","namesCollectionRef","questionsCollectionRef","onSubmitName","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","gameid","t0","console","err","stop","apply","arguments","onSubmitQuestion","_ref2","_callee2","_callee2$","_context2","log","children","className"],"sources":["/Users/AmundFremming/Documents/Personlig/Koding/web-frontend/drikkelek/src/pages/Host.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Navbar from \"../Base/Navbar\";\nimport Header from \"../Base/Header\";\nimport HostGame from \"../Components/HostGame\";\nimport CreateRoom from \"../Components/CreateRoom\";\nimport { db } from \"../config/firebase\";\nimport { collection, addDoc } from \"firebase/firestore\";\n\n/*\n    TODO - later\n    fikse regex lengde på input\n*/\n\nconst Host = (props) => {\n\n    const [roomInit, setRoomInit] = useState(false);\n    const [roomID, setRoomID] = useState(\"\");\n    const [name, setName] = useState(\"\");\n    const [question, setQuestion] = useState(\"\");\n\n    const namesCollectionRef = collection(db, \"names\");\n    const questionsCollectionRef = collection(db, \"questions\");\n\n    const onSubmitName = async () => {\n        try {\n            setRoomInit(true);\n            await addDoc(namesCollectionRef, { name: name, gameid: roomID });\n        } catch(err) {\n            console.err(err);\n        }\n    }\n\n    const onSubmitQuestion = async () => {\n        try {    \n            await addDoc(questionsCollectionRef, { question: question, gameid: roomID });\n            console.log(\"Adding :\" + question);\n        } catch(err) {\n            console.err(err);\n        }\n\n    }\n\n    return(\n        <>\n            <Header />\n            <div className=\"mt-64 justify-center items-center flex\">\n\n                <div className=\"h-64 w-80 bg-violet-500 rounded shadow-xl justify-center items-center flex\">\n                    <div className=\"flex-col\">\n                    {\n                        roomInit\n                        ? <HostGame\n                            roomID={roomID}\n                            setQuestion={setQuestion}\n                            onSubmitQuestion={onSubmitQuestion}\n                        />\n                        : <CreateRoom\n                            onSubmitName={onSubmitName}\n                            setName={setName}\n                            setRoomID={setRoomID}\n                        />\n                    }\n                    </div>\n                </div>\n            </div>\n\n        </>\n    );\n}\n\nexport default Host;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}